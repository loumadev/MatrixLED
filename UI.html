<!DOCTYPE html>
<html>
<meta name='viewport' content='width=device-width, initial-scale=1.0'><head>
</head>
<body>
<input type='text' placeholder="text"><br>
<input type='number' value='165' placeholder="speed"> <button onclick='a(1)'>Draw</button>
<br><br>
<input type='datetime-local' value=''> <button onclick='a(2)'>Start</button>
<br>
<input type='number' placeholder='seconds'> <button onclick='a(3)'>Start</button>
<script type='text/javascript'>
function a(a){
	var b=document.getElementsByTagName('input');
    if(a==1) {
    	var x=b[0].value;
        var y=b[1].value;
     	if(x==''||!y||y<1)return;
      	var xhttp=new XMLHttpRequest();
      	xhttp.open('POST','/draw?a='+x+'&b='+y,true);
      	xhttp.send();
    }
    else if(a==2) {
    	var x=b[2].value;
        var y = c(new Date(x).getTime())-c(new Date().getTime());
        if(x==''||y<0)return;
      	var xhttp=new XMLHttpRequest();
      	xhttp.open('POST','/count?a='+y,true);
      	xhttp.send();
    }
    else if(a==3) {
    	var x=b[3].value;
        //var y = b(new Date(x).getTime())-b(new Date().getTime());
        if(x=='')return;
      	var xhttp=new XMLHttpRequest();
      	xhttp.open('POST','/count?a='+Math.abs(x),true);
      	xhttp.send();
    }
}
function c(a){return parseInt(a/1000)}
</script>
</body>
</html>